---
source: ironsmith-parser/src/lib.rs
expression: ast
input_file: ironsmith-parser/fixtures/float16.smithy
---
Ast {
    control: [
        (
            "version",
            String(
                String(
                    "2.0",
                ),
            ),
        ),
    ],
    metadata: [],
    shapes: Some(
        ShapeSection {
            namespace: "smithy.protocoltests.rpcv2Cbor",
            uses: [
                AbsoluteRootShapeId {
                    namespace: "smithy.protocols",
                    identifier: "rpcv2Cbor",
                },
                AbsoluteRootShapeId {
                    namespace: "smithy.test",
                    identifier: "httpResponseTests",
                },
            ],
            shapes: [
                Shape(
                    ShapeWithTraits {
                        traits: [
                            Trait {
                                shape_id: ShapeId {
                                    root_shape_id: Relative(
                                        "tags",
                                    ),
                                    shape_id_member: None,
                                },
                                body: Some(
                                    Node(
                                        Array(
                                            [
                                                String(
                                                    String(
                                                        "client-only",
                                                    ),
                                                ),
                                            ],
                                        ),
                                    ),
                                ),
                            },
                        ],
                        shape: Operation(
                            OperationShape {
                                identifier: "Float16",
                                mixins: [],
                                body: [
                                    Output(
                                        Explicit(
                                            ShapeId {
                                                root_shape_id: Relative(
                                                    "Float16Output",
                                                ),
                                                shape_id_member: None,
                                            },
                                        ),
                                    ),
                                ],
                            },
                        ),
                    },
                ),
                Apply(
                    ApplyStatement {
                        shape_id: ShapeId {
                            root_shape_id: Relative(
                                "Float16",
                            ),
                            shape_id_member: None,
                        },
                        traits: [
                            Trait {
                                shape_id: ShapeId {
                                    root_shape_id: Relative(
                                        "httpResponseTests",
                                    ),
                                    shape_id_member: None,
                                },
                                body: Some(
                                    Node(
                                        Array(
                                            [
                                                Object(
                                                    [
                                                        NodeKeyValuePair {
                                                            key: "id",
                                                            value: String(
                                                                String(
                                                                    "RpcV2CborFloat16Inf",
                                                                ),
                                                            ),
                                                        },
                                                        NodeKeyValuePair {
                                                            key: "documentation",
                                                            value: String(
                                                                String(
                                                                    "Ensures that clients can correctly parse float16 +Inf.",
                                                                ),
                                                            ),
                                                        },
                                                        NodeKeyValuePair {
                                                            key: "protocol",
                                                            value: String(
                                                                ShapeId(
                                                                    ShapeId {
                                                                        root_shape_id: Relative(
                                                                            "rpcv2Cbor",
                                                                        ),
                                                                        shape_id_member: None,
                                                                    },
                                                                ),
                                                            ),
                                                        },
                                                        NodeKeyValuePair {
                                                            key: "code",
                                                            value: Number(
                                                                "200",
                                                            ),
                                                        },
                                                        NodeKeyValuePair {
                                                            key: "body",
                                                            value: String(
                                                                String(
                                                                    "oWV2YWx1Zfl8AA==",
                                                                ),
                                                            ),
                                                        },
                                                        NodeKeyValuePair {
                                                            key: "headers",
                                                            value: Object(
                                                                [
                                                                    NodeKeyValuePair {
                                                                        key: "smithy-protocol",
                                                                        value: String(
                                                                            String(
                                                                                "rpc-v2-cbor",
                                                                            ),
                                                                        ),
                                                                    },
                                                                    NodeKeyValuePair {
                                                                        key: "Content-Type",
                                                                        value: String(
                                                                            String(
                                                                                "application/cbor",
                                                                            ),
                                                                        ),
                                                                    },
                                                                ],
                                                            ),
                                                        },
                                                        NodeKeyValuePair {
                                                            key: "params",
                                                            value: Object(
                                                                [
                                                                    NodeKeyValuePair {
                                                                        key: "value",
                                                                        value: String(
                                                                            String(
                                                                                "Infinity",
                                                                            ),
                                                                        ),
                                                                    },
                                                                ],
                                                            ),
                                                        },
                                                        NodeKeyValuePair {
                                                            key: "bodyMediaType",
                                                            value: String(
                                                                String(
                                                                    "application/cbor",
                                                                ),
                                                            ),
                                                        },
                                                        NodeKeyValuePair {
                                                            key: "appliesTo",
                                                            value: String(
                                                                String(
                                                                    "client",
                                                                ),
                                                            ),
                                                        },
                                                    ],
                                                ),
                                                Object(
                                                    [
                                                        NodeKeyValuePair {
                                                            key: "id",
                                                            value: String(
                                                                String(
                                                                    "RpcV2CborFloat16NegInf",
                                                                ),
                                                            ),
                                                        },
                                                        NodeKeyValuePair {
                                                            key: "documentation",
                                                            value: String(
                                                                String(
                                                                    "Ensures that clients can correctly parse float16 -Inf.",
                                                                ),
                                                            ),
                                                        },
                                                        NodeKeyValuePair {
                                                            key: "protocol",
                                                            value: String(
                                                                ShapeId(
                                                                    ShapeId {
                                                                        root_shape_id: Relative(
                                                                            "rpcv2Cbor",
                                                                        ),
                                                                        shape_id_member: None,
                                                                    },
                                                                ),
                                                            ),
                                                        },
                                                        NodeKeyValuePair {
                                                            key: "code",
                                                            value: Number(
                                                                "200",
                                                            ),
                                                        },
                                                        NodeKeyValuePair {
                                                            key: "body",
                                                            value: String(
                                                                String(
                                                                    "oWV2YWx1Zfn8AA==",
                                                                ),
                                                            ),
                                                        },
                                                        NodeKeyValuePair {
                                                            key: "headers",
                                                            value: Object(
                                                                [
                                                                    NodeKeyValuePair {
                                                                        key: "smithy-protocol",
                                                                        value: String(
                                                                            String(
                                                                                "rpc-v2-cbor",
                                                                            ),
                                                                        ),
                                                                    },
                                                                    NodeKeyValuePair {
                                                                        key: "Content-Type",
                                                                        value: String(
                                                                            String(
                                                                                "application/cbor",
                                                                            ),
                                                                        ),
                                                                    },
                                                                ],
                                                            ),
                                                        },
                                                        NodeKeyValuePair {
                                                            key: "params",
                                                            value: Object(
                                                                [
                                                                    NodeKeyValuePair {
                                                                        key: "value",
                                                                        value: String(
                                                                            String(
                                                                                "-Infinity",
                                                                            ),
                                                                        ),
                                                                    },
                                                                ],
                                                            ),
                                                        },
                                                        NodeKeyValuePair {
                                                            key: "bodyMediaType",
                                                            value: String(
                                                                String(
                                                                    "application/cbor",
                                                                ),
                                                            ),
                                                        },
                                                        NodeKeyValuePair {
                                                            key: "appliesTo",
                                                            value: String(
                                                                String(
                                                                    "client",
                                                                ),
                                                            ),
                                                        },
                                                    ],
                                                ),
                                                Object(
                                                    [
                                                        NodeKeyValuePair {
                                                            key: "id",
                                                            value: String(
                                                                String(
                                                                    "RpcV2CborFloat16LSBNaN",
                                                                ),
                                                            ),
                                                        },
                                                        NodeKeyValuePair {
                                                            key: "documentation",
                                                            value: String(
                                                                String(
                                                                    "Ensures that clients can correctly parse float16 NaN with high LSB.",
                                                                ),
                                                            ),
                                                        },
                                                        NodeKeyValuePair {
                                                            key: "protocol",
                                                            value: String(
                                                                ShapeId(
                                                                    ShapeId {
                                                                        root_shape_id: Relative(
                                                                            "rpcv2Cbor",
                                                                        ),
                                                                        shape_id_member: None,
                                                                    },
                                                                ),
                                                            ),
                                                        },
                                                        NodeKeyValuePair {
                                                            key: "code",
                                                            value: Number(
                                                                "200",
                                                            ),
                                                        },
                                                        NodeKeyValuePair {
                                                            key: "body",
                                                            value: String(
                                                                String(
                                                                    "oWV2YWx1Zfl8AQ==",
                                                                ),
                                                            ),
                                                        },
                                                        NodeKeyValuePair {
                                                            key: "headers",
                                                            value: Object(
                                                                [
                                                                    NodeKeyValuePair {
                                                                        key: "smithy-protocol",
                                                                        value: String(
                                                                            String(
                                                                                "rpc-v2-cbor",
                                                                            ),
                                                                        ),
                                                                    },
                                                                    NodeKeyValuePair {
                                                                        key: "Content-Type",
                                                                        value: String(
                                                                            String(
                                                                                "application/cbor",
                                                                            ),
                                                                        ),
                                                                    },
                                                                ],
                                                            ),
                                                        },
                                                        NodeKeyValuePair {
                                                            key: "params",
                                                            value: Object(
                                                                [
                                                                    NodeKeyValuePair {
                                                                        key: "value",
                                                                        value: String(
                                                                            String(
                                                                                "NaN",
                                                                            ),
                                                                        ),
                                                                    },
                                                                ],
                                                            ),
                                                        },
                                                        NodeKeyValuePair {
                                                            key: "bodyMediaType",
                                                            value: String(
                                                                String(
                                                                    "application/cbor",
                                                                ),
                                                            ),
                                                        },
                                                        NodeKeyValuePair {
                                                            key: "appliesTo",
                                                            value: String(
                                                                String(
                                                                    "client",
                                                                ),
                                                            ),
                                                        },
                                                    ],
                                                ),
                                                Object(
                                                    [
                                                        NodeKeyValuePair {
                                                            key: "id",
                                                            value: String(
                                                                String(
                                                                    "RpcV2CborFloat16MSBNaN",
                                                                ),
                                                            ),
                                                        },
                                                        NodeKeyValuePair {
                                                            key: "documentation",
                                                            value: String(
                                                                String(
                                                                    "Ensures that clients can correctly parse float16 NaN with high MSB.",
                                                                ),
                                                            ),
                                                        },
                                                        NodeKeyValuePair {
                                                            key: "protocol",
                                                            value: String(
                                                                ShapeId(
                                                                    ShapeId {
                                                                        root_shape_id: Relative(
                                                                            "rpcv2Cbor",
                                                                        ),
                                                                        shape_id_member: None,
                                                                    },
                                                                ),
                                                            ),
                                                        },
                                                        NodeKeyValuePair {
                                                            key: "code",
                                                            value: Number(
                                                                "200",
                                                            ),
                                                        },
                                                        NodeKeyValuePair {
                                                            key: "body",
                                                            value: String(
                                                                String(
                                                                    "oWV2YWx1Zfl+AA==",
                                                                ),
                                                            ),
                                                        },
                                                        NodeKeyValuePair {
                                                            key: "headers",
                                                            value: Object(
                                                                [
                                                                    NodeKeyValuePair {
                                                                        key: "smithy-protocol",
                                                                        value: String(
                                                                            String(
                                                                                "rpc-v2-cbor",
                                                                            ),
                                                                        ),
                                                                    },
                                                                    NodeKeyValuePair {
                                                                        key: "Content-Type",
                                                                        value: String(
                                                                            String(
                                                                                "application/cbor",
                                                                            ),
                                                                        ),
                                                                    },
                                                                ],
                                                            ),
                                                        },
                                                        NodeKeyValuePair {
                                                            key: "params",
                                                            value: Object(
                                                                [
                                                                    NodeKeyValuePair {
                                                                        key: "value",
                                                                        value: String(
                                                                            String(
                                                                                "NaN",
                                                                            ),
                                                                        ),
                                                                    },
                                                                ],
                                                            ),
                                                        },
                                                        NodeKeyValuePair {
                                                            key: "bodyMediaType",
                                                            value: String(
                                                                String(
                                                                    "application/cbor",
                                                                ),
                                                            ),
                                                        },
                                                        NodeKeyValuePair {
                                                            key: "appliesTo",
                                                            value: String(
                                                                String(
                                                                    "client",
                                                                ),
                                                            ),
                                                        },
                                                    ],
                                                ),
                                                Object(
                                                    [
                                                        NodeKeyValuePair {
                                                            key: "id",
                                                            value: String(
                                                                String(
                                                                    "RpcV2CborFloat16Subnormal",
                                                                ),
                                                            ),
                                                        },
                                                        NodeKeyValuePair {
                                                            key: "documentation",
                                                            value: String(
                                                                String(
                                                                    "Ensures that clients can correctly parse a subnormal float16.",
                                                                ),
                                                            ),
                                                        },
                                                        NodeKeyValuePair {
                                                            key: "protocol",
                                                            value: String(
                                                                ShapeId(
                                                                    ShapeId {
                                                                        root_shape_id: Relative(
                                                                            "rpcv2Cbor",
                                                                        ),
                                                                        shape_id_member: None,
                                                                    },
                                                                ),
                                                            ),
                                                        },
                                                        NodeKeyValuePair {
                                                            key: "code",
                                                            value: Number(
                                                                "200",
                                                            ),
                                                        },
                                                        NodeKeyValuePair {
                                                            key: "body",
                                                            value: String(
                                                                String(
                                                                    "oWV2YWx1ZfkAUA==",
                                                                ),
                                                            ),
                                                        },
                                                        NodeKeyValuePair {
                                                            key: "headers",
                                                            value: Object(
                                                                [
                                                                    NodeKeyValuePair {
                                                                        key: "smithy-protocol",
                                                                        value: String(
                                                                            String(
                                                                                "rpc-v2-cbor",
                                                                            ),
                                                                        ),
                                                                    },
                                                                    NodeKeyValuePair {
                                                                        key: "Content-Type",
                                                                        value: String(
                                                                            String(
                                                                                "application/cbor",
                                                                            ),
                                                                        ),
                                                                    },
                                                                ],
                                                            ),
                                                        },
                                                        NodeKeyValuePair {
                                                            key: "params",
                                                            value: Object(
                                                                [
                                                                    NodeKeyValuePair {
                                                                        key: "value",
                                                                        value: Number(
                                                                            "0.00000476837158203125",
                                                                        ),
                                                                    },
                                                                ],
                                                            ),
                                                        },
                                                        NodeKeyValuePair {
                                                            key: "bodyMediaType",
                                                            value: String(
                                                                String(
                                                                    "application/cbor",
                                                                ),
                                                            ),
                                                        },
                                                        NodeKeyValuePair {
                                                            key: "appliesTo",
                                                            value: String(
                                                                String(
                                                                    "client",
                                                                ),
                                                            ),
                                                        },
                                                    ],
                                                ),
                                            ],
                                        ),
                                    ),
                                ),
                            },
                        ],
                    },
                ),
                Shape(
                    ShapeWithTraits {
                        traits: [],
                        shape: Aggregate(
                            AggregateShape {
                                type_name: Structure,
                                identifier: "Float16Output",
                                for_resource: None,
                                mixins: [],
                                members: [
                                    ShapeMember {
                                        traits: [],
                                        identifier: "value",
                                        shape_id: Some(
                                            ShapeId {
                                                root_shape_id: Relative(
                                                    "Double",
                                                ),
                                                shape_id_member: None,
                                            },
                                        ),
                                        value: None,
                                    },
                                ],
                            },
                        ),
                    },
                ),
            ],
        },
    ),
}
